{"version":3,"sources":["webpack:///./src/views/goods/cates/edit.vue?c398","webpack:///src/views/goods/cates/edit.vue","webpack:///./src/views/goods/cates/edit.vue?c4d8","webpack:///./src/views/goods/cates/edit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","formData","rules","model","value","callback","$$v","$set","expression","label","emitPath","checkStrictly","on","handleChange","_e","$event","$emit","resetForm","_v","submitForm","staticRenderFns","props","Object","Array","type","String","watch","handler","immediate","data","cat_name","methods","cat_pid","cat_level","$refs","formName","resetFields","validate","valid","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,UAAU,CAACG,IAAI,WAAWD,YAAY,YAAYE,MAAM,CAAC,MAAQR,EAAIS,SAAS,cAAc,QAAQ,MAAQT,EAAIU,QAAQ,CAACN,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,aAAa,CAACJ,EAAG,WAAW,CAACE,YAAY,iBAAiBK,MAAM,CAACC,MAAOZ,EAAIS,SAAiB,SAAEI,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIS,SAAU,WAAYK,IAAME,WAAW,wBAAwB,GAAIhB,EAAQ,KAAEI,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,SAAS,CAACJ,EAAG,cAAc,CAACI,MAAM,CAAC,QAAUR,EAAIW,MAAM,MAAQ,CAC9lBC,MAAO,SACPK,MAAO,WACPC,UAAU,EACVC,eAAe,IACdC,GAAG,CAAC,OAASpB,EAAIqB,cAAcV,MAAM,CAACC,MAAOZ,EAAIS,SAAgB,QAAEI,SAAS,SAAUC,GAAMd,EAAIe,KAAKf,EAAIS,SAAU,UAAWK,IAAME,WAAW,uBAAuB,GAAGhB,EAAIsB,KAAKlB,EAAG,eAAe,CAACA,EAAG,YAAY,CAACgB,GAAG,CAAC,MAAQ,SAASG,GACzOvB,EAAIwB,MAAM,SACVxB,EAAIyB,UAAU,eACX,CAACzB,EAAI0B,GAAG,QAAQtB,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWY,GAAG,CAAC,MAAQ,SAASG,GAAQ,OAAOvB,EAAI2B,WAAW,eAAe,CAAC3B,EAAI0B,GAAG,SAAS,IAAI,IAAI,IAC/JE,EAAkB,G,YCoCtB,GACEC,MAAO,CACLlB,MAAO,CAACmB,OAAQC,OAChBC,KAAMC,QAERC,MAAO,CACLvB,MAAO,CACLwB,QADN,SACA,GACQlC,KAAKQ,SACb,qBACA,CAAU,SAAV,GAAU,GAAV,UACA,CAAU,SAAV,GAAU,QAAV,EAAU,UAAV,IAEM2B,WAAW,IAGfC,KAhBF,WAiBI,MAAO,CACL5B,SAAU,GACVC,MAAO,CACL4B,SAAU,CAClB,CAAU,UAAV,EAAU,QAAV,WAAU,QAAV,YAKEC,QAAS,CACPlB,aADJ,SACA,cACUT,EACF,OAAR,OAAQ,CAAR,kCACU,EAAV,0CAGQX,KAAKQ,SAAS+B,QAAU,EACxBvC,KAAKQ,SAASgC,UAAY,IAG9BhB,UAXJ,SAWA,GACMxB,KAAKyC,MAAMC,GAAUC,eAEvBjB,WAdJ,SAcA,cACM1B,KAAKyC,MAAMC,GAAUE,UAAS,SAApC,GACQ,GAAIC,EAAO,CACT,IAAV,kCACUX,EAAQ,EAAlB,4BACY,EAAZ,kCACY,EAAZ,4BC3F4W,I,YCOxWY,EAAY,eACd,EACAhD,EACA6B,GACA,EACA,KACA,WACA,MAIa,aAAAmB,E","file":"js/chunk-2d21dcd1.12793b76.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit-container\"},[_c('el-form',{ref:\"formData\",staticClass:\"edit-form\",attrs:{\"model\":_vm.formData,\"label-width\":\"140px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"分类名称\",\"prop\":\"cat_name\"}},[_c('el-input',{staticClass:\"form-box-input\",model:{value:(_vm.formData.cat_name),callback:function ($$v) {_vm.$set(_vm.formData, \"cat_name\", $$v)},expression:\"formData.cat_name\"}})],1),(_vm.type)?_c('el-form-item',{attrs:{\"label\":\"父级分类\"}},[_c('el-cascader',{attrs:{\"options\":_vm.model,\"props\":{\n          value: 'cat_id',\n          label: 'cat_name',\n          emitPath: false,\n          checkStrictly: true\n        }},on:{\"change\":_vm.handleChange},model:{value:(_vm.formData.cat_pid),callback:function ($$v) {_vm.$set(_vm.formData, \"cat_pid\", $$v)},expression:\"formData.cat_pid\"}})],1):_vm._e(),_c('el-form-item',[_c('el-button',{on:{\"click\":function($event){{\n            _vm.$emit('close')\n            _vm.resetForm('formData')\n          }}}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('formData')}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"edit-container\">\r\n    <el-form\r\n      :model=\"formData\"\r\n      ref=\"formData\"\r\n      label-width=\"140px\"\r\n      class=\"edit-form\"\r\n      :rules=\"rules\"\r\n    >\r\n      <el-form-item label=\"分类名称\" prop=\"cat_name\">\r\n        <el-input v-model=\"formData.cat_name\" class=\"form-box-input\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"父级分类\" v-if=\"type\"\r\n        ><el-cascader\r\n          v-model=\"formData.cat_pid\"\r\n          :options=\"model\"\r\n          :props=\"{\r\n            value: 'cat_id',\r\n            label: 'cat_name',\r\n            emitPath: false,\r\n            checkStrictly: true\r\n          }\"\r\n          @change=\"handleChange\"\r\n        ></el-cascader>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button\r\n          @click=\"\r\n            {\r\n              $emit('close')\r\n              resetForm('formData')\r\n            }\r\n          \"\r\n          >取消</el-button\r\n        >\r\n        <el-button type=\"primary\" @click=\"submitForm('formData')\"\r\n          >提交</el-button\r\n        >\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { createCate, editCate, getCateInfo } from '@/api/good/cate'\r\n\r\nexport default {\r\n  props: {\r\n    model: [Object, Array],\r\n    type: String\r\n  },\r\n  watch: {\r\n    model: {\r\n      handler(val) {\r\n        this.formData =\r\n          this.type !== 'create'\r\n            ? { cat_name: '', id: val.cat_id }\r\n            : { cat_name: '', cat_pid: 0, cat_level: 0 }\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      formData: {},\r\n      rules: {\r\n        cat_name: [\r\n          { required: true, message: '分类名称不能为空', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleChange(value) {\r\n      if (value) {\r\n        getCateInfo(value).then(({ data }) => {\r\n          this.formData.cat_level = data.data.cat_level + 1\r\n        })\r\n      } else {\r\n        this.formData.cat_pid = 0\r\n        this.formData.cat_level = 0\r\n      }\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n    },\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          const handler = this.type === 'create' ? createCate : editCate\r\n          handler(this.formData).then(res => {\r\n            this.$message.success(res.data.meta.msg)\r\n            this.$emit('editEmit')\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped></style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=5e7f4ad8&scoped=true&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e7f4ad8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}