(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Cate-Rights"],{"0221":function(t,e,a){"use strict";a.d(e,"e",(function(){return n})),a.d(e,"d",(function(){return o})),a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return c})),a.d(e,"b",(function(){return l}));var i=a("b775");function n(t){return Object(i["a"])({url:"/categories",method:"get",params:t})}function o(t){return Object(i["a"])({url:"/categories/".concat(t),method:"get",params:t})}function r(t){return Object(i["a"])({url:"/categories",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/categories/".concat(t.id),method:"put",data:t})}function l(t){return Object(i["a"])({url:"/categories/".concat(t.id),method:"delete"})}},a91f:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("商品管理")]),a("el-breadcrumb-item",[t._v("商品分类")])],1),a("el-card",[a("el-row",{staticClass:"mb-20",attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.doCreate()}}},[t._v("添加分类")])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-table",{attrs:{data:t.cateList,"highlight-current-row":"","row-key":"cat_id",border:"",height:t.tableHeight,"tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"cat_name",label:"分类名称","min-width":"100"}}),a("el-table-column",{attrs:{prop:"cat_deleted",label:"是否有效","min-width":"60"},scopedSlots:t._u([{key:"default",fn:function(t){return[t.row.cat_deleted?a("i",{staticClass:"el-icon-error",staticStyle:{color:"#F56C6C"}}):a("i",{staticClass:"el-icon-success",staticStyle:{color:"#67C23A"}})]}}])}),a("el-table-column",{attrs:{prop:"cat_level",label:"分类当前层级","min-width":"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:t.tagList[e.row.cat_level]}},[t._v(t._s(t.tagNameList[e.row.cat_level]))])]}}])}),t._v(" >"),a("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"primary"},on:{click:function(a){return t.doEdit("edit",e.row,"编辑分类")}}}),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return t.doRemove(e.row)}}})]}}])})],1)],1)],1),a("el-row",[a("el-col",{staticClass:"text-right",attrs:{span:24}},[a("el-pagination",{attrs:{"current-page":t.params.pagenum,"page-sizes":t.pageSizeType,"page-size":t.params.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.pagination.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1),t.dialog.edit.show?a("el-dialog",{attrs:{title:t.dialog.edit.title,visible:t.dialog.edit.show,"close-on-click-modal":!1,width:"500px"},on:{"update:visible":function(e){return t.$set(t.dialog.edit,"show",e)}}},[a("edit-cate",{attrs:{model:t.dialog.edit.data,type:t.dialog.edit.type},on:{editEmit:function(e){return t.editEmit("edit")},close:function(e){t.dialog.edit.show=!1}}})],1):t._e()],1)},n=[],o=(a("d3b7"),a("0221")),r={data:function(){return{params:{pagenum:1,pagesize:2},cateList:[],tagList:["","success","info"],tagNameList:["一级","二级","三级"],dialog:{edit:{title:"",data:{},show:!1}}}},components:{"edit-cate":function(){return a.e("chunk-2d21dcd1").then(a.bind(null,"d39e"))}},created:function(){this.getList()},methods:{getList:function(){var t=this;Object(o["e"])(this.params).then((function(e){var a=e.data;t.cateList=a.data.result,t.pagination.total=a.data.total}))},doCreate:function(){var t=this;Object(o["e"])({type:2}).then((function(e){t.dialog.edit.show=!0,t.dialog.edit.data=e.data.data,t.dialog.edit.title="添加分类",t.dialog.edit.type="create"}))},doEdit:function(t,e,a){this.dialog[t].show=!0,this.dialog[t].data=e,this.dialog[t].title=a},doRemove:function(t){var e=this;this.$confirm("此操作将永久删除该分类, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(o["b"])({id:t.cat_id}).then((function(t){e.$message({type:"success",message:t.data.meta.msg}),e.getList()}))}))},editEmit:function(t){this.dialog[t].show=!1,this.getList()}}},c=r,l=a("2877"),s=Object(l["a"])(c,i,n,!1,null,"40adf712",null);e["default"]=s.exports}}]);
//# sourceMappingURL=Cate-Rights.bb6ff294.js.map