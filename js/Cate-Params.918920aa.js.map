{"version":3,"sources":["webpack:///./src/views/goods/params/Params.vue?b1b6","webpack:///src/views/goods/params/Params.vue","webpack:///./src/views/goods/params/Params.vue?9607","webpack:///./src/views/goods/params/Params.vue","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","staticClass","cateList","value","label","on","handleChange","model","callback","$$v","cat_id","expression","getList","activeSel","doCreate","paramsList","tableHeight","scopedSlots","_u","key","fn","scope","_l","row","item","index","$event","doRemoveRight","_s","ref","staticStyle","handleInputConfirm","nativeOn","type","indexOf","_k","keyCode","$set","showInput","doEdit","doRemove","dialog","edit","title","show","data","editEmit","_e","staticRenderFns","name","inputVisible","inputValue","components","mounted","methods","attr_vals","splice","tag","id","attrId","attr_id","attr_name","attr_sel","join","res","meta","status","$nextTick","push","length","obj","$confirm","confirmButtonText","cancelButtonText","message","msg","component","_defineProperty","Object","defineProperty","enumerable","configurable","writable","$","$indexOf","sloppyArrayMethod","nativeIndexOf","NEGATIVE_ZERO","SLOPPY_METHOD","target","proto","forced","searchElement","apply","arguments","undefined","DESCRIPTORS","ownKeys","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","stat","sham","getOwnPropertyDescriptors","object","descriptor","O","getOwnPropertyDescriptor","f","keys","result","fails","nativeGetOwnPropertyDescriptor","FAILS_ON_PRIMITIVES","FORCED","it"],"mappings":"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","file":"js/Cate-Params.918920aa.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"参数列表\")])],1),_c('el-card',[_c('el-row',{staticClass:\"mb-20\",attrs:{\"gutter\":20}},[_c('el-alert',{attrs:{\"type\":\"warning\",\"title\":\"注意：只允许为第三级分类设置相关参数！\",\"show-icon\":\"\",\"closable\":false}})],1),_c('el-row',{staticClass:\"mb-20\",attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":24}},[_c('span',{staticClass:\"mr-10\"},[_vm._v(\"选择商品分类：\")]),_c('el-cascader',{attrs:{\"filterable\":\"\",\"options\":_vm.cateList,\"props\":{\n            value: 'cat_id',\n            label: 'cat_name'\n          },\"show-all-levels\":false},on:{\"change\":_vm.handleChange},model:{value:(_vm.cat_id),callback:function ($$v) {_vm.cat_id=$$v},expression:\"cat_id\"}})],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":24}},[_c('el-tabs',{on:{\"tab-click\":_vm.getList},model:{value:(_vm.activeSel),callback:function ($$v) {_vm.activeSel=$$v},expression:\"activeSel\"}},[_c('el-tab-pane',{attrs:{\"label\":\"动态参数\",\"name\":\"many\",\"disabled\":!_vm.cat_id}}),_c('el-tab-pane',{attrs:{\"label\":\"静态参数\",\"name\":\"only\",\"disabled\":!_vm.cat_id}})],1)],1),_c('el-col',{staticClass:\"mb-10\",attrs:{\"span\":24}},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.cat_id},on:{\"click\":_vm.doCreate}},[_vm._v(\"添加参数\")])],1),_c('el-col',{attrs:{\"span\":24}},[_c('el-table',{attrs:{\"data\":_vm.paramsList,\"highlight-current-row\":\"\",\"border\":\"\",\"height\":_vm.tableHeight}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._l((scope.row.attr_vals),function(item,index){return _c('el-tag',{key:index,staticClass:\"mr-10\",attrs:{\"closable\":\"\"},on:{\"close\":function($event){return _vm.doRemoveRight(scope.row, item)}}},[_vm._v(\" \"+_vm._s(item))])}),(scope.row.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticStyle:{\"width\":\"120px\"},attrs:{\"size\":\"mini\"},on:{\"blur\":function($event){return _vm.handleInputConfirm(scope.row)}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm(scope.row)}},model:{value:(scope.row.inputValue),callback:function ($$v) {_vm.$set(scope.row, \"inputValue\", $$v)},expression:\"scope.row.inputValue\"}}):_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showInput(scope.row)}}},[_vm._v(\"+ New Tag\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"attr_name\",\"label\":\"分类参数名称\",\"min-width\":\"120\"}}),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-edit\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.doEdit('edit', scope.row, '编辑参数')}}}),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.doRemove(scope.row)}}})]}}])})],1)],1)],1)],1),(_vm.dialog.edit.show)?_c('el-dialog',{attrs:{\"title\":_vm.dialog.edit.title,\"visible\":_vm.dialog.edit.show,\"close-on-click-modal\":false,\"width\":\"500px\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.dialog.edit, \"show\", $event)}}},[_c('edit-params',{attrs:{\"model\":_vm.dialog.edit.data},on:{\"editEmit\":function($event){return _vm.editEmit('edit')},\"close\":function($event){_vm.dialog.edit.show = false}}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-breadcrumb separator=\"/\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>参数列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-card>\r\n      <el-row :gutter=\"20\" class=\"mb-20\">\r\n        <el-alert\r\n          type=\"warning\"\r\n          title=\"注意：只允许为第三级分类设置相关参数！\"\r\n          show-icon\r\n          :closable=\"false\"\r\n        ></el-alert>\r\n      </el-row>\r\n      <el-row :gutter=\"20\" class=\"mb-20\">\r\n        <el-col :span=\"24\">\r\n          <span class=\"mr-10\">选择商品分类：</span>\r\n          <el-cascader\r\n            filterable\r\n            v-model=\"cat_id\"\r\n            :options=\"cateList\"\r\n            :props=\"{\r\n              value: 'cat_id',\r\n              label: 'cat_name'\r\n            }\"\r\n            :show-all-levels=\"false\"\r\n            @change=\"handleChange\"\r\n          ></el-cascader>\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"24\">\r\n          <el-tabs v-model=\"activeSel\" @tab-click=\"getList\">\r\n            <el-tab-pane\r\n              label=\"动态参数\"\r\n              name=\"many\"\r\n              :disabled=\"!cat_id\"\r\n            ></el-tab-pane>\r\n            <el-tab-pane\r\n              label=\"静态参数\"\r\n              name=\"only\"\r\n              :disabled=\"!cat_id\"\r\n            ></el-tab-pane>\r\n          </el-tabs>\r\n        </el-col>\r\n        <el-col :span=\"24\" class=\"mb-10\">\r\n          <el-button type=\"primary\" @click=\"doCreate\" :disabled=\"!cat_id\"\r\n            >添加参数</el-button\r\n          >\r\n        </el-col>\r\n        <el-col :span=\"24\">\r\n          <el-table\r\n            :data=\"paramsList\"\r\n            highlight-current-row\r\n            border\r\n            :height=\"tableHeight\"\r\n          >\r\n            <el-table-column type=\"expand\">\r\n              <template slot-scope=\"scope\">\r\n                <el-tag\r\n                  class=\"mr-10\"\r\n                  v-for=\"(item, index) in scope.row.attr_vals\"\r\n                  :key=\"index\"\r\n                  closable\r\n                  @close=\"doRemoveRight(scope.row, item)\"\r\n                >\r\n                  {{ item }}</el-tag\r\n                ><el-input\r\n                  style=\"width: 120px;\"\r\n                  v-if=\"scope.row.inputVisible\"\r\n                  v-model=\"scope.row.inputValue\"\r\n                  ref=\"saveTagInput\"\r\n                  size=\"mini\"\r\n                  @keyup.enter.native=\"handleInputConfirm(scope.row)\"\r\n                  @blur=\"handleInputConfirm(scope.row)\"\r\n                >\r\n                </el-input>\r\n                <el-button v-else size=\"mini\" @click=\"showInput(scope.row)\"\r\n                  >+ New Tag</el-button\r\n                >\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n              prop=\"attr_name\"\r\n              label=\"分类参数名称\"\r\n              min-width=\"120\"\r\n            ></el-table-column\r\n            ><el-table-column align=\"center\" label=\"操作\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button\r\n                  @click=\"doEdit('edit', scope.row, '编辑参数')\"\r\n                  size=\"mini\"\r\n                  icon=\"el-icon-edit\"\r\n                  type=\"primary\"\r\n                ></el-button>\r\n                <el-button\r\n                  @click=\"doRemove(scope.row)\"\r\n                  size=\"mini\"\r\n                  type=\"danger\"\r\n                  icon=\"el-icon-delete\"\r\n                ></el-button> </template\r\n            ></el-table-column>\r\n          </el-table>\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n\r\n    <el-dialog\r\n      :title=\"dialog.edit.title\"\r\n      :visible.sync=\"dialog.edit.show\"\r\n      v-if=\"dialog.edit.show\"\r\n      :close-on-click-modal=\"false\"\r\n      width=\"500px\"\r\n    >\r\n      <edit-params\r\n        :model=\"dialog.edit.data\"\r\n        @editEmit=\"editEmit('edit')\"\r\n        @close=\"dialog.edit.show = false\"\r\n      >\r\n      </edit-params>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getParamsList, deleteParams, editParams } from '@/api/good/params'\r\nimport { getCateList } from '@/api/good/cate'\r\n\r\nexport default {\r\n  name: 'users',\r\n  data() {\r\n    return {\r\n      inputVisible: false,\r\n      inputValue: '',\r\n      activeSel: 'many',\r\n      cat_id: null,\r\n      cateList: [],\r\n      paramsList: [],\r\n      dialog: {\r\n        edit: {\r\n          title: '',\r\n          data: {},\r\n          show: false\r\n        }\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    'edit-params': () => import('./edit')\r\n  },\r\n  mounted() {\r\n    getCateList().then(({ data }) => {\r\n      this.cateList = data.data\r\n    })\r\n  },\r\n  methods: {\r\n    doRemoveRight(row, tag) {\r\n      row.attr_vals.splice(row.attr_vals.indexOf(tag), 1)\r\n      editParams({\r\n        id: this.cat_id,\r\n        attrId: row.attr_id,\r\n        attr_name: row.attr_name,\r\n        attr_sel: this.activeSel,\r\n        attr_vals: row.attr_vals.join(' ')\r\n      }).then(res => {\r\n        if (res.data.meta.status === 200) {\r\n          this.$message.success('参数删除成功！')\r\n        }\r\n      })\r\n    },\r\n\r\n    showInput(row) {\r\n      row.inputVisible = true\r\n      this.$nextTick(_ => {\r\n        this.$refs.saveTagInput.$refs.input.focus()\r\n      })\r\n    },\r\n\r\n    handleInputConfirm(row) {\r\n      let inputValue = row.inputValue\r\n      if (inputValue) {\r\n        row.attr_vals.push(inputValue)\r\n      }\r\n      row.inputVisible = false\r\n      row.inputValue = ''\r\n\r\n      editParams({\r\n        id: this.cat_id,\r\n        attrId: row.attr_id,\r\n        attr_name: row.attr_name,\r\n        attr_sel: this.activeSel,\r\n        attr_vals: row.attr_vals.join(' ')\r\n      }).then(res => {\r\n        if (res.data.meta.status === 200) {\r\n          this.$message.success('参数修改成功！')\r\n        }\r\n      })\r\n    },\r\n\r\n    handleChange(value) {\r\n      if (value && value.length - 1 >= 0) {\r\n        this.cat_id = value[value.length - 1]\r\n        this.getList()\r\n        value = null\r\n      } else {\r\n        this.cat_id = null\r\n      }\r\n    },\r\n    getList() {\r\n      getParamsList({ sel: this.activeSel, id: this.cat_id }).then(\r\n        ({ data }) => {\r\n          data.data.forEach(item => {\r\n            item.attr_vals = item.attr_vals ? item.attr_vals.split(' ') : []\r\n            item.inputVisible = false\r\n            item.inputValue = ''\r\n          })\r\n          this.paramsList = data.data\r\n        }\r\n      )\r\n    },\r\n    doCreate() {\r\n      this.dialog.edit.show = true\r\n      this.dialog.edit.data = { attr_sel: this.activeSel, id: this.cat_id }\r\n      this.dialog.edit.title = '创建参数'\r\n    },\r\n    doEdit(obj, row, title) {\r\n      this.dialog[obj].show = true\r\n      this.dialog[obj].data = {\r\n        attr_sel: this.activeSel,\r\n        id: this.cat_id,\r\n        ...row\r\n      }\r\n      this.dialog[obj].title = title\r\n    },\r\n    doRemove(row) {\r\n      this.$confirm('此操作将永久删除该参数, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        deleteParams({ id: row.cat_id, attrid: row.attr_id }).then(res => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: res.data.meta.msg\r\n          })\r\n          this.getList()\r\n        })\r\n      })\r\n    },\r\n    editEmit(obj) {\r\n      this.dialog[obj].show = false\r\n      this.getList()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Params.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Params.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Params.vue?vue&type=template&id=4ad3354a&\"\nimport script from \"./Params.vue?vue&type=script&lang=js&\"\nexport * from \"./Params.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar SLOPPY_METHOD = sloppyArrayMethod('indexOf');\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || SLOPPY_METHOD }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n"],"sourceRoot":""}